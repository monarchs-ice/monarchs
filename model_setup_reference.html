

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>model_setup variable reference &mdash; MONARCHS  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Common errors and debugging" href="common_errors.html" />
    <link rel="prev" title="Formatting input meteorological data" href="met_data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MONARCHS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing MONARCHS</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Running MONARCHS (a quickstart guide)</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Tips and tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="MONARCHS_model_setup.html">Setting up your own model run</a></li>
<li class="toctree-l1"><a class="reference internal" href="dem.html">Running MONARCHS with a Digital Elevation Model (DEM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">Generating plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="met_data.html">Formatting input meteorological data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">model_setup</span></code> variable reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#spatial-resolution-parameters">Spatial resolution parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timestepping-parameters">Timestepping parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initial-conditions-dem-or-manually-specified-firn-height">Initial conditions - DEM or manually-specified firn height</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initial-conditions-firn-column-profiles">Initial conditions - firn column profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initial-conditions-meteorology-and-surface">Initial conditions - meteorology and surface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geospatial-parameters">Geospatial parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-settings-time-series-i-e-scientific-output">Output settings - time series (i.e. scientific output)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-settings-dumping-and-reloading-model-state">Output settings - dumping and reloading model state</a></li>
<li class="toctree-l2"><a class="reference internal" href="#computational-and-numerical-settings">Computational and numerical settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lateral-flow-settings">Lateral flow settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debug-settings">Debug settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#physics-toggles">Physics toggles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-debug-testing-flags">Other debug/testing flags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="common_errors.html">Common errors and debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_changes.html">Making changes to MONARCHS</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Code structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MONARCHS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">model_setup</span></code> variable reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/model_setup_reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="model-setup-variable-reference">
<h1><code class="docutils literal notranslate"><span class="pre">model_setup</span></code> variable reference<a class="headerlink" href="#model-setup-variable-reference" title="Link to this heading"></a></h1>
<p>This document is effectively an API reference for the MONARCHS runscript (by default named <code class="docutils literal notranslate"><span class="pre">model_setup.py</span></code>).
If adding new MONARCHS setup parameters, please document them here.</p>
<p>Optional parameters may be optional either because they are not needed for the code to run, or because they have a default value.
These default values are specified in <code class="docutils literal notranslate"><span class="pre">monarchs.core.configuration.create_defaults_for_missing_flags</span></code>, in case you
want to look these up or change them.</p>
<section id="spatial-resolution-parameters">
<h2>Spatial resolution parameters<a class="headerlink" href="#spatial-resolution-parameters" title="Link to this heading"></a></h2>
<p>Parameters controlling the spatial resolution of MONARCHS, in terms of the number of grid points and the vertical resolution.</p>
<blockquote>
<div><dl>
<dt>row_amount<span class="classifier">int</span></dt><dd><p>Number of rows (i.e. <code class="docutils literal notranslate"><span class="pre">y</span></code>-points) in your model grid, looking from top-down.
MONARCHS indexes the model grid via <code class="docutils literal notranslate"><span class="pre">grid[col][row]</span></code>, i.e. the <code class="docutils literal notranslate"><span class="pre">y</span></code>-coordinate is the second index.
This has only been tested with the same # of points as <code class="docutils literal notranslate"><span class="pre">col_amount</span></code>, so use caution
if using different values for each of these.</p>
</dd>
<dt>col_amount<span class="classifier">int</span></dt><dd><p>Number of columns (i.e. <cite>x</cite>-points) in your model grid, looking from top-down.
MONARCHS indexes the model grid via <code class="docutils literal notranslate"><span class="pre">grid[col][row]</span></code>, i.e. the <code class="docutils literal notranslate"><span class="pre">x</span></code>-coordinate is the first index.
This has only been tested with the same # of points as <code class="docutils literal notranslate"><span class="pre">row_amount</span></code>, so use caution
if using different values for each of these.</p>
</dd>
<dt>lat_grid_size<span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">str</span></code>, required if no DEM specified, optional otherwise</span></dt><dd><p>Size of each grid cell in m. This is used to determine how much water can flow during the lateral
flow calculations. If set to a number, then the cells are assumed square. If set to <code class="docutils literal notranslate"><span class="pre">'dem'</span></code>, then the <code class="docutils literal notranslate"><span class="pre">x</span></code> and
<code class="docutils literal notranslate"><span class="pre">y</span></code> dimensions are calculated separately - in which case the cells are not necessarily assumed to be square.
This value is stored in the model grid as <code class="docutils literal notranslate"><span class="pre">cell.size_dx</span></code> and <code class="docutils literal notranslate"><span class="pre">cell.size_dy</span></code> (where cell is an element of the grid).
If a valid DEM is provided, then this is calculated from the DEM automatically, <em>but is overwritten</em> if the user
specifies a value other than ‘dem’ here..</p>
</dd>
<dt>vertical_points_firn<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of vertical grid cells in the firn profile. Default is 400. This determines the resolution of the model vertically.
For best results ensure that your vertical resolution is on the order of ~10 cm (i.e. your maximum firn height divided by
<code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code> is approximately 0.1)</p>
</dd>
<dt>vertical_points_lake<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of vertical grid cells in the lake profile. Default 20, as lakes are both much smaller than the firn
column and less sensitive to vertical resolution since they are turbulently mixed.</p>
</dd>
<dt>vertical_points_lid<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code></span></dt><dd><p>Number of vertical grid cells in the lid profile. Default 20.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="timestepping-parameters">
<h2>Timestepping parameters<a class="headerlink" href="#timestepping-parameters" title="Link to this heading"></a></h2>
<p>Parameters controlling the temporal resolution of MONARCHS.</p>
<blockquote>
<div><dl>
<dt>num_days<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, required</span></dt><dd><p>Number of days (i.e. full model iterations) to run for. A day is <code class="docutils literal notranslate"><span class="pre">t_steps_per_day</span></code> steps of the single-column physics,
followed by one pass of the lateral flow algorithm.</p>
</dd>
<dt>t_steps_per_day<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">24</span></code>.
Number of timesteps to run for each day. 24 = 1h resolution, 8 = 3h resolution, etc.</p>
</dd>
<dt>lateral_timestep<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">t_steps_per_day</span> <span class="pre">*</span> <span class="pre">3600</span></code></p>
<p>Timestep for each iteration of lateral water flow calculation (in s)
It is highly unlikely this should be anything other than 3600 * 24. Included here for testing only.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="initial-conditions-dem-or-manually-specified-firn-height">
<h2>Initial conditions - DEM or manually-specified firn height<a class="headerlink" href="#initial-conditions-dem-or-manually-specified-firn-height" title="Link to this heading"></a></h2>
<p>Parameters determining the height of the firn column. This can be specified manually, or read in
automatically from a Digital Elevation Model (DEM). If in doubt, write your own DEM retrieval script and
load the result in as an array.</p>
<blockquote>
<div><dl>
<dt>DEM_path<span class="classifier">str, optional</span></dt><dd><p>Path to a digital elevation model (DEM) to be read in by MONARCHS.
This will be read in by MONARCHS according to its filetype, and
interpolated to shape <code class="docutils literal notranslate"><span class="pre">(row_amount,</span> <span class="pre">col_amount)</span></code>.</p>
<p>If using a relative import, it is a relative import from the folder you are running
MONARCHS from, not the folder that the code repository is included in. For example, if your
DEM is in <code class="docutils literal notranslate"><span class="pre">/home/data/DEM/test_dem.tif</span></code>, and you run MONARCHS from <code class="docutils literal notranslate"><span class="pre">/home/model_runs/test_run</span></code>, then the DEM path
would be <code class="docutils literal notranslate"><span class="pre">'../../data/DEM/test_dem.tif'</span></code></p>
</dd>
</dl>
<p>firn_depth : <code class="docutils literal notranslate"><span class="pre">float</span></code>, or <code class="docutils literal notranslate"><span class="pre">array_like</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, dimension(<code class="docutils literal notranslate"><span class="pre">row_amount,</span> <span class="pre">col_amount</span></code>), required if <code class="docutils literal notranslate"><span class="pre">DEM_path</span></code> not set, else optional</p>
<blockquote>
<div><p>Initial depth of the firn columns making up the MONARCHS model grid.
<strong>If a valid DEM path is specified, then this is overridden by the DEM</strong>. Use this only if you want to manually
specify your own firn heights. Specify as either a number or an array.</p>
<p>For example, to generate a test Gaussian three-lake profile, one can import <code class="docutils literal notranslate"><span class="pre">gaussian_testcase.export_gaussian_DEM</span></code>
from the <code class="docutils literal notranslate"><span class="pre">10x10_gaussian_threelake</span></code> example, and call it to generate a usable firn profile.</p>
<p>If a number is specified, this number is assumed as the firn depth across the whole grid.
If an array is specified, this should be an array of dimension(<code class="docutils literal notranslate"><span class="pre">row_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">col_amount</span></code>),
i.e. the firn depth is user-specified across the whole grid. This is likely the safest option if you want to
pre-process your firn profile, or don’t trust MONARCHS to interpolate it to your desired model grid for you.</p>
</div></blockquote>
<dl>
<dt>firn_max_height<span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">150</span></code>.</p>
<p>Maximum height that your firn column can be at. Use this if you’re loading in a DEM which has large height
ranges.</p>
</dd>
<dt>firn_min_height<span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">20</span></code>.</p>
<p>Minimum height that we consider to be “firn”. Anything below this we consider to be solid ice, which affects
some of the physics. Notably, we will see a lot more surface water in these cells.</p>
</dd>
<dt>max_height_handler<span class="classifier">str, optional</span></dt><dd><p>How to handle cells that exceed <code class="docutils literal notranslate"><span class="pre">firn_max_height</span></code>. This is designed to help us filter out land cells.
These are still part of the overall grid, since they occupy geographic space, but are not useful in terms of
the physics. This variable can be one of the following:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">'filter'</span></code> - Set the variable <code class="docutils literal notranslate"><span class="pre">cell.valid_cell</span> <span class="pre">=</span> <span class="pre">False</span></code>, which prevents MONARCHS from running any of the physics
to these cells. This means they effectively stay the same throughout the whole model.</p>
<p><code class="docutils literal notranslate"><span class="pre">'clip'</span></code> - Set all cells above the max firn height to <code class="docutils literal notranslate"><span class="pre">firn_max_height</span></code>. This will not prevent MONARCHS
from running physics on these cells.</p>
</div></blockquote>
</dd>
<dt>min_height_handler<span class="classifier">str, optional</span></dt><dd><p>How to handle cells where below <code class="docutils literal notranslate"><span class="pre">firn_min_height</span></code>. This is designed to help us filter out land cells.
These are still part of the overall grid, since they occupy geographic space, but are not useful in terms of
the physics. This variable can be one of the following:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">'filter'</span></code> - Set the variable cell.valid_cell = False, which prevents MONARCHS from running any of the physics
to these cells. This means they effectively stay the same throughout the whole model.</p>
<p><code class="docutils literal notranslate"><span class="pre">'clip'</span></code> - Set all cells below the min firn height to <code class="docutils literal notranslate"><span class="pre">firn_min_height</span></code>. This will not prevent MONARCHS
from running physics on these cells.</p>
<p><code class="docutils literal notranslate"><span class="pre">'extend'</span></code> - Add some metres of firn to the column everywhere to ensure that everywhere is at least
<code class="docutils literal notranslate"><span class="pre">firn_min_height</span></code> metres in height. We do this for every cell in the model to retain the correct relative water level.
This will give you more realistic firn columns for low-height cells, at the cost of lower resolution for larger
height cells. Useful if e.g. reading in data from a DEM, where you know that some of the firn is below sea level.</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</section>
<section id="initial-conditions-firn-column-profiles">
<h2>Initial conditions - firn column profiles<a class="headerlink" href="#initial-conditions-firn-column-profiles" title="Link to this heading"></a></h2>
<p>This section determines what parameters you want to use for your initial firn density and temperature profiles.</p>
<blockquote>
<div><p>rho_init : str, or <code class="docutils literal notranslate"><span class="pre">array_like</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</p>
<blockquote>
<div><p>Initial density profile.</p>
<p>This follows Paterson, W. (2000). The Physics of Glaciers. Butterworth-Heinemann,
using the formula of <em>Schytt, V. (1958). Glaciology. A: Snow studies at Maudheim. Glaciology. B: Snow studies
inland. Glaciology. C: The inner structure of the ice shelf at Maudheim as shown by
core drilling. Norwegian- British- Swedish Antarctic Expedition, 1949-5, IV).</em></p>
<p>Defaults to ‘default’, in which case MONARCHS will calculate an empirical density profile with <code class="docutils literal notranslate"><span class="pre">rho_sfc</span></code> = <code class="docutils literal notranslate"><span class="pre">500</span></code>
and <code class="docutils literal notranslate"><span class="pre">z_t</span></code> = <code class="docutils literal notranslate"><span class="pre">37</span></code>.</p>
<p>Alternatively, specify as either a) a pair of points in the form <code class="docutils literal notranslate"><span class="pre">[rho_sfc,</span> <span class="pre">zt]</span></code> to use this equation and specify
<code class="docutils literal notranslate"><span class="pre">rho_sfc</span></code> and <code class="docutils literal notranslate"><span class="pre">z_t</span></code> yourself, b) a 1D array of length <code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code> to specify a user-specified
uniform density profile across the whole grid, or c) an array of
dimension(<code class="docutils literal notranslate"><span class="pre">row_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">col_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code>) to specify different density profiles across your
model grid.</p>
</div></blockquote>
<dl>
<dt>T_init<span class="classifier">str, or <code class="docutils literal notranslate"><span class="pre">array_like</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</span></dt><dd><p>Initial temperature profile.</p>
<p>Defaults to ‘default’, which MONARCHS reads in and uses an assumed firn top temperature of 260 K and
bottom temperature of 240 K, linearly interpolated between these points.</p>
<p>Alternatively, specify as either a) a pair of points in the form [top, bottom] to assume a linear
temperature profile across the whole grid, b) a 1D array of length <code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code> to specify a user-specified
uniform temperature profile across the whole grid, or c) an array of
dimension(<code class="docutils literal notranslate"><span class="pre">row_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">col_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code>) to specify different temperature profiles across
your model grid.</p>
</dd>
<dt>rho_sfc: <code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</dt><dd><p>Initial surface density used to calculate the profile if using <code class="docutils literal notranslate"><span class="pre">rho_init</span></code> = ‘default’. Defaults to 500.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="initial-conditions-meteorology-and-surface">
<h2>Initial conditions - meteorology and surface<a class="headerlink" href="#initial-conditions-meteorology-and-surface" title="Link to this heading"></a></h2>
<p>This section defines parameters relating to the input meteorological data, typically from ERA5.</p>
<blockquote>
<div><p>met_input_filepath : str, required</p>
<blockquote>
<div><p>Path to a file of meteorological data to be used as a driver to MONARCHS.
At the moment, only ERA5 format (in netCDF) is supported.
If this is a relative filepath, then you should ensure that is relative to the folder in which
you are running MONARCHS from, not the source code directory.</p>
</div></blockquote>
<dl>
<dt>met_start_index<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>If specified, start reading the data from <code class="docutils literal notranslate"><span class="pre">met_input</span></code> at this index. Useful if you e.g. have a met data file
that starts at a point sooner than you want to run MONARCHS from.
This only affects runs starting at iteration 0, i.e. runs that have not been reloaded from a dump.
Such runs will continue from the index it would have run next were the code not to have stopped regardless
of this parameter.</p>
</dd>
<dt>met_timestep<span class="classifier">str, or <code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">'hourly'</span></code>.</p>
<p>Temporal resolution of your input meteorological data.
Ideally, MONARCHS would read in hourly gridded data. However, it is possible that the user may want
to run long climate simulation runs, which may necessitate lower temporal resolution. This flag tells
MONARCHS how often the meteorological input data should be run for.
If str - the value should be ‘hourly’, ‘three-hourly’ or ‘daily’. For other resolutions, please
specify an integer, corresponding to how many hours each point in your data corresponds to.
In this integer form, ‘hourly’ corresponds to met_timestep = 1, ‘three_hourly’ to met_timestep = 3, and
‘daily’ to met_timestep = 24.</p>
</dd>
<dt>met_output_filepath<span class="classifier">str, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">interpolated_met_data.nc</span></code>.</p>
<p>Filepath for the interpolated grid used by MONARCHS to be saved.
This is used to save memory, and prevent us from having to repeatedly interpolate our input data.
This file can be large if running for large domains and timescales. Therefore,this setting is useful
for those who e.g. want to save this file into scratch space rather than locally.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="geospatial-parameters">
<h2>Geospatial parameters<a class="headerlink" href="#geospatial-parameters" title="Link to this heading"></a></h2>
<p>Parameters controlling how MONARCHS brings together DEM and met data inputs and ensures that they are consistent spatially.</p>
<blockquote>
<div><dl>
<dt>lat_bounds<span class="classifier">str, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Toggle whether to constrain the input met data file to lat/long bounds specified by a digital elevation model (DEM) or not. If set to <code class="docutils literal notranslate"><span class="pre">'dem'</span></code>, then the
model grid and input meteorological data are constrained to the lat/long of the DEM, i.e. the data from the
met data netCDF is matched/regridded to the DEM, accounting for changes in e.g. the coordinate reference systems between the two.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">examples/50x50_numba_parallel</span></code> for an example of this; this example run has <code class="docutils literal notranslate"><span class="pre">met_dem_diagnostic_plots</span> <span class="pre">==</span> <span class="pre">True</span></code>, so a plot will be generated to show what
this does visually when running with the appropriate DEM, see <code class="docutils literal notranslate"><span class="pre">examples/50x50_numba_parallel/README.md</span></code> for details.</p>
</dd>
</dl>
<p>bbox_top_right, bbox_bottom_left, bbox_top_left, bbox_bottom_right : <code class="docutils literal notranslate"><span class="pre">array_like</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, dimension(lat, long), optional</p>
<blockquote>
<div><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Arrays defining a bounding box that we want to constrain the model to.
If you want to use bounding boxes, they should each be in the form <code class="docutils literal notranslate"><span class="pre">[lat,</span> <span class="pre">long]</span></code>.
This is useful for e.g. running with
a DEM that has a large area, but we want to run on a subset of it. Since it is a bounding box where the
corners are specified, you can define this on any square or rectangular area without being constrained
by a Cartesian grid (which is useful for e.g. DEMs in polar stereographic projection).
If defined with <code class="docutils literal notranslate"><span class="pre">lat_bounds</span> <span class="pre">==</span> <span class="pre">'dem'</span></code>, then this will also constrain the input met data to this grid.
The met data will be regridded to this bounding box, so that the final model grid and met data grid are
co-located.</p>
</div></blockquote>
<dl>
<dt>met_dem_diagnostic_plots<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, generate some plots to show the regridding of the meteorological data onto the DEM lat/long grid.
Useful as a sanity check to make sure that this has worked as intended. Typically you might run a test
(in serial, on a local machine) where you cancel the run during the first model day to check these plots,
then re-run (in parallel, possibly on HPC) with this set to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt>dem_diagnostic_plots: bool, optional</dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, generate some plots to check that we have read in the DEM correctly. This is useful if using a
bounding box to select a subset of the original DEM, so you can check visually that it is working as intended.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="output-settings-time-series-i-e-scientific-output">
<h2>Output settings - time series (i.e. scientific output)<a class="headerlink" href="#output-settings-time-series-i-e-scientific-output" title="Link to this heading"></a></h2>
<p>This section controls how the model outputs information over time. It does this by appending to a netCDF file
every <code class="docutils literal notranslate"><span class="pre">output_timestep</span></code> days.</p>
<blockquote>
<div><dl>
<dt>save_output<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Flag to determine whether you want to save the output of MONARCHS to netCDF. If True, save the variables
defined in <code class="docutils literal notranslate"><span class="pre">vars_to_save</span></code> into a netCDF file at <code class="docutils literal notranslate"><span class="pre">output_filepath</span></code> every timestep (i.e. save spatial and temporal
data for the selected variables). File sizes can get rather large for large model grids and long
runs, so you may want to change this from the defaults.</p>
<p>Note that this is separate from dumping, where only a snapshot of the current iteration is saved. It is not
possible to restart MONARCHS from the output defined here. See <code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">settings</span> <span class="pre">-</span> <span class="pre">dumping</span> <span class="pre">and</span> <span class="pre">reloading</span> <span class="pre">model</span> <span class="pre">state</span></code> for information on how to enable restarting MONARCHS.</p>
</dd>
<dt>vars_to_save<span class="classifier">tuple, str, optional</span></dt><dd><p>Default (‘firn_temperature’, ‘Sfrac’, ‘Lfrac’, ‘firn_depth’, ‘lake_depth’, ‘lid_depth’, ‘lake’, ‘lid’, ‘v_lid’).</p>
<p>Tuple containing the names of the variables that we wish to save during the evolution of MONARCHS over time.
If you want to save a particular diagnostic, then you should add it here.
See <code class="docutils literal notranslate"><span class="pre">monarchs.core.model_grid</span></code> for details on the full list of variables that <code class="docutils literal notranslate"><span class="pre">vars_to_save</span></code> accepts.</p>
</dd>
<dt>output_filepath<span class="classifier">str, optional (required if <code class="docutils literal notranslate"><span class="pre">save_output</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>)</span></dt><dd><p>Path to the file that you want to save output into, including file extension.
MONARCHS uses netCDF for saving output data, so this may be e.g. <code class="docutils literal notranslate"><span class="pre">&quot;/work/monarchs/monarchs_run1.nc&quot;</span></code>.</p>
</dd>
<dt>output_grid_size<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Defaults to the value set for <code class="docutils literal notranslate"><span class="pre">vertical_points_firn</span></code> (i.e. no interpolation occurs).</p>
<p>Size of the vertical grid that you want to write to. This can be different from the size of the grid used in the
actual model calculations, in which case the results are interpolated to this grid size. Useful to reduce the
size of output files, which can be large.</p>
</dd>
<dt>output_timestep<span class="classifier"><code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">1</span></code>. (i.e. at every model timestep (<code class="docutils literal notranslate"><span class="pre">day</span></code>))
Write model output every <code class="docutils literal notranslate"><span class="pre">output_timestep</span></code> model days. Useful if you want to save data less regularly than
every timestep, e.g. if filesizes are getting too large and you don’t need daily resolution.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="output-settings-dumping-and-reloading-model-state">
<h2>Output settings - dumping and reloading model state<a class="headerlink" href="#output-settings-dumping-and-reloading-model-state" title="Link to this heading"></a></h2>
<blockquote>
<div><dl>
<dt>dump_data<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Flag that determines whether to dump the current model state at the end of each iteration (day). Doing so
will allow the user to restart MONARCHS in the event of a crash. Set True to enable this behaviour.
If this is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then you also need to specify <code class="docutils literal notranslate"><span class="pre">dump_filepath</span></code>.</p>
<p>Note that dumping the model state is separate
to setting model output - this only dumps a snapshot of the model in its current state, needed to restart the
model. If you desire output over time, see <code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">settings</span> <span class="pre">-</span> <span class="pre">time</span> <span class="pre">series</span></code>.</p>
</dd>
<dt>dump_filepath<span class="classifier">str, optional (required if <code class="docutils literal notranslate"><span class="pre">dump_data</span></code> is True)</span></dt><dd><p>File path to dump the current model state into at the end of each timestep,
for use if <code class="docutils literal notranslate"><span class="pre">dump_data</span></code> or <code class="docutils literal notranslate"><span class="pre">reload_from_dump</span></code> are True.</p>
</dd>
<dt>reload_from_dump<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code> (i.e. model will start from the initial conditions specified by <code class="docutils literal notranslate"><span class="pre">firn_depth</span></code> or the DEM input file by default).</p>
<p>Flag to determine whether we want to reload from a dump (see <code class="docutils literal notranslate"><span class="pre">dump_data</span></code> for details). If <code class="docutils literal notranslate"><span class="pre">True</span></code>, reload model
state from file at the path determined by <code class="docutils literal notranslate"><span class="pre">dump_filepath</span></code>.</p>
</dd>
<dt>dump_format<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">NETCDF4</span></code>.</p>
<p>Format to save the dump file in. Can be either <code class="docutils literal notranslate"><span class="pre">NETCDF4</span></code> or <code class="docutils literal notranslate"><span class="pre">pickle</span></code>. Pickle is much faster to load back in, but
is not human-readable and is not Numba-compatible.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="computational-and-numerical-settings">
<h2>Computational and numerical settings<a class="headerlink" href="#computational-and-numerical-settings" title="Link to this heading"></a></h2>
<p>These parameters mostly control whether the code runs in parallel, which flavour of parallelism to use if so,
how many CPU cores to use if running in parallel, and whether to use Numba to jit-compile the code
(resulting in performance boosts).</p>
<blockquote>
<div><dl>
<dt>use_numba<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Toggle whether to jit-compile the code using Numba or not. Gives a performance boost, but may not always work and
adds a few complications. See :docs:<code class="docutils literal notranslate"><span class="pre">numba</span></code> for more details.</p>
</dd>
<dt>parallel<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Determines whether or not to run in parallel, or serially. If running in parallel, then performance is improved
since the model will many of the single-column gridpoints at the same time.</p>
<p>The exact flavour of parallelism is determined by other flags - if <code class="docutils literal notranslate"><span class="pre">use_numba</span></code> and <code class="docutils literal notranslate"><span class="pre">use_mpi</span></code> are False, then
parallelism is via <code class="docutils literal notranslate"><span class="pre">dask</span></code>.
If <code class="docutils literal notranslate"><span class="pre">use_numba</span></code> is enabled, then this comes via Numba’s <code class="docutils literal notranslate"><span class="pre">prange</span></code> function, which works similarly to an OpenMP parallel do loop.
If <code class="docutils literal notranslate"><span class="pre">use_mpi</span></code> is enabled, then <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code> is used. This functionality is WIP, and may be removed in favour of
a <code class="docutils literal notranslate"><span class="pre">dask</span></code> Client.</p>
</dd>
</dl>
<p>dask_scheduler : str, optional</p>
<blockquote>
<div><p>Default <code class="docutils literal notranslate"><span class="pre">'processes'</span></code>. Other options available are <code class="docutils literal notranslate"><span class="pre">distributed</span></code> for running on multiple nodes, and
<code class="docutils literal notranslate"><span class="pre">'threads'</span></code>.</p>
<p>Determines which scheduler to use for parallelism if <code class="docutils literal notranslate"><span class="pre">use_numba</span></code> and <code class="docutils literal notranslate"><span class="pre">use_mpi</span></code> are both False.
It is recommended to use <code class="docutils literal notranslate"><span class="pre">use_numba</span></code> for large workloads if possible, as this gives significantly better
performance. For running lots of very small workloads (e.g. running lots of 1D columns),
you may get good performance using <code class="docutils literal notranslate"><span class="pre">threads</span></code>. For other purposes, e.g. if running on Windows without a
working Fortran compiler, for medium-sized workloads, <code class="docutils literal notranslate"><span class="pre">processes</span></code> is recommended.</p>
</div></blockquote>
<dl>
<dt>use_mpi<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Toggle whether to use MPI parallelism to run across multiple nodes. This is an experimental WIP feature.
This should give large performance boosts if you have the HPC architecture to use it, as it allows for running
MONARCHS on more than one compute node. However, it is not yet compatible with Numba, so there is also
some opportunity cost. Not recommended unless you can run on multiple nodes.</p>
</dd>
<dt>cores<span class="classifier">str, bool or <code class="docutils literal notranslate"><span class="pre">int</span></code>, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">'all'</span></code>.</p>
<p>Number of processing cores to use. ‘all’ or <code class="docutils literal notranslate"><span class="pre">False</span></code> will instruct MONARCHS to use all available CPU cores,
else it will use however many you specify. You may want to manually specify this to something lower than the number
of cores on your system if e.g. running on a laptop which you are using for other purposes,
or if running on HPC and you are experiencing memory bottleneck issues.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="lateral-flow-settings">
<h2>Lateral flow settings<a class="headerlink" href="#lateral-flow-settings" title="Link to this heading"></a></h2>
<p>These parameters determine the behaviour of the lateral flow algorithm, i.e. how water is moved around between
grid cells.</p>
<blockquote>
<div><dl>
<dt>catchment_outflow<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then water that a) reaches the edge of the grid and b) is at a local minimum in terms of the cell’s water level
will disappear from the model, i.e. it moves outside of the model domain. This may or may not be a good assumption
depending on location.</p>
</dd>
<dt>flow_into_land: bool, optional</dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then similarly to <code class="docutils literal notranslate"><span class="pre">catchment_outflow</span></code>, water that reaches the edge of the grid and is at a local minimum
will flow out of the model if it is adjacent to a land cell. This is motivated by the presence of large lakes at the edge
of the ice shelf in the validation runs, which are not seen in observational datasets. This occurs since the water has
nowhere else to go, and thus a positive feedback loop occurs where the lake grows, melts the firn underneath,
and more water flows in.</p>
</dd>
<dt>outflow_proportion: int, optional</dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">1</span></code>, maximum <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Determines how much water will flow out of the catchment as a proportion of the total water available to flow out.
If <code class="docutils literal notranslate"><span class="pre">1</span></code>, then all water that is at a local minimum and adjacent to the edge of the grid will flow out.
Setting it to <code class="docutils literal notranslate"><span class="pre">0</span></code> will effectively set <code class="docutils literal notranslate"><span class="pre">catchment_outflow</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt>flow_speed_scaling: int, optional</dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Determines how much water can flow from a cell in the firn to its neighbours during the lateral flow step.
The amount of water that can flow is determined by the density of the cell, and the available water in the
cell. This flag scales the amount of water that <em>can</em> flow by the value given - it will not move more
water than there is in the cell.</p>
<p>It has no effect on the amount of water that can flow from lakes - since it is assumed that all water
is available to move from lakes.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="debug-settings">
<h2>Debug settings<a class="headerlink" href="#debug-settings" title="Link to this heading"></a></h2>
<p>These can be safely ignored unless you are actively developing the model.</p>
<section id="physics-toggles">
<h3>Physics toggles<a class="headerlink" href="#physics-toggles" title="Link to this heading"></a></h3>
<p>These parameters control the physics that is applied to either the single-column vertical processes, or the
lateral processes. By default these should all be on unless specified, but you may want to switch some off for testing purposes.</p>
<blockquote>
<div><dl>
<dt>snowfall_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether to add height to the firn column via snowfall over time, or not.
e.g. can be turned off if you don’t have a source of snowfall data and don’t want to make assumptions.</p>
</dd>
<dt>firn_column_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether the firn column is allowed to evolve or not, i.e. if <code class="docutils literal notranslate"><span class="pre">physics.firn_column</span></code> is ever invoked.</p>
</dd>
<dt>firn_heat_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether the temperature of the firn is allowed to evolve, i.e. if <code class="docutils literal notranslate"><span class="pre">physics.heateqn</span></code> is ever invoked.</p>
</dd>
<dt>lake_development_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether lakes are allowed to form, i.e. if <code class="docutils literal notranslate"><span class="pre">physics.lake_development</span></code> is ever invoked.</p>
</dd>
<dt>lake_development_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether frozen lids are allowed to form, i.e. if <code class="docutils literal notranslate"><span class="pre">physics.lid_development</span></code> is ever invoked.</p>
</dd>
<dt>lateral_movement_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether water can move between grid points laterally, or if we treat each column as entirely independent.</p>
</dd>
<dt>lateral_movement_percolation_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether water can percolate during the lateral movement step, assuming that <code class="docutils literal notranslate"><span class="pre">lateral_movement_toggle</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>densification_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Determines whether snow densification is enabled.
This is currently always False since our implementation of snow densification is WIP.</p>
</dd>
<dt>percolation_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines whether water can percolate during the firn column evolution step.</p>
</dd>
<dt>perc_time_toggle<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Determines if percolation occurs over timescales (if <code class="docutils literal notranslate"><span class="pre">True</span></code>), or all water can percolate forever until
it can no longer move.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="other-debug-testing-flags">
<h3>Other debug/testing flags<a class="headerlink" href="#other-debug-testing-flags" title="Link to this heading"></a></h3>
<p>This section includes miscellaneous flags that have been used during the development of MONARCHS to test certain things, but have been
and retained as possible configuration flags for testing purposes for other users. These can be entirely ignored.</p>
<blockquote>
<div><dl>
<dt>simulated_water_toggle<span class="classifier">bool, or <code class="docutils literal notranslate"><span class="pre">float</span></code></span></dt><dd><p>If False or not present, then nothing happens. If a <code class="docutils literal notranslate"><span class="pre">float</span></code>, then add that many units of water to each grid cell
at every timestep. This is to simulate water from outside the catchment area moving in, as in Buzzard (2017).</p>
<p>This may be useful if running 1D test cases.</p>
</dd>
<dt>ignore_errors<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.
If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then <code class="docutils literal notranslate"><span class="pre">monarchs.core.utils.check_correct</span></code> will never be invoked, i.e. the model may be free to
evolve into an unphysical state. Errors may still occur, but these will be Python errors rather than MONARCHS
errors if so. May be useful for debugging.</p>
</dd>
<dt>heateqn_res_toggle<span class="classifier">bool, optional</span></dt><dd><p>Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>, i.e. nothing changes.</p>
<p>An experimental feature whereby, in an attempt to improve performance, the heat equation step
(which takes up most of the model runtime) is performed with a lower-resolution version of the
vertical profile, then re-interpolated back to the model grid.</p>
<p>The thinking is that this may have improved performance without drastically affecting the results
since the temperature profile should be smooth, and the vertical resolution is mostly required for
percolation purposes. Initial testing showed large differences between the two versions,
so this was abandoned for now.</p>
</dd>
<dt>radiation_forcing_factor<span class="classifier"><code class="docutils literal notranslate"><span class="pre">float</span></code>, optional</span></dt><dd><p>Undefined by default, equivalent to setting it to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Multiply the shortwave/longwave radiation variables by this factor for testing purposes, e.g. if running
a 1D case and you want to ensure that lake formation occurs. This is left in mostly as an example;
see <code class="docutils literal notranslate"><span class="pre">monarchs.core.initial_conditions</span></code> and search for this variable for more details.</p>
</dd>
<dt>spinup<span class="classifier">bool, optional</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Experimental feature - if True, then try and force the heat equation to converge at the start of the run,
similar to spinning up a climate model. It may be better to just run the model for longer than using this function
however, or starting the model from a dump with a pre-spun up state.</p>
</dd>
<dt>verbose_logging<span class="classifier">bool</span></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Experimental feature - if True, then output data every hour rather than every day. This will override the
<code class="docutils literal notranslate"><span class="pre">output_timestep</span></code> defined in <code class="docutils literal notranslate"><span class="pre">Output</span> <span class="pre">settings</span> <span class="pre">-</span> <span class="pre">dumping</span> <span class="pre">and</span> <span class="pre">reloading</span> <span class="pre">model</span> <span class="pre">state</span></code>. This will generate very
large files, and doesn’t work properly yet (particularly with Numba) so likely best left alone for now unless you have a strong need for
hourly output.</p>
</dd>
</dl>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="met_data.html" class="btn btn-neutral float-left" title="Formatting input meteorological data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="common_errors.html" class="btn btn-neutral float-right" title="Common errors and debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Sammie Buzzard, Jon Elsey and Alex Robel.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>